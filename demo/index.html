<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Streamlined CMS - Feature Demo</title>

        <!-- Load the SDK - just one script tag, no FOUC -->
        <script
            src="/dist/streamlined-cms.js"
            data-api-url="__VITE_API_URL__"
            data-app-url="__VITE_APP_URL__"
            data-app-id="__VITE_APP_ID__"
            data-log-level="__VITE_LOG_LEVEL__"
        ></script>

        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            html {
                overflow-x: hidden;
            }

            body {
                overflow-x: hidden;
                font-family:
                    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial,
                    sans-serif;
                line-height: 1.6;
                color: #333;
                background: #f5f5f5;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
            }

            .container {
                max-width: 900px;
                margin: 0 auto;
                padding: 20px;
                flex: 1;
            }

            /* Header styles */
            header {
                background: #1a1a2e;
                color: white;
                padding: 0;
            }

            .header-inner {
                max-width: 900px;
                margin: 0 auto;
                padding: 15px 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                flex-wrap: wrap;
                gap: 10px;
            }

            .logo {
                font-size: 1.5em;
                font-weight: bold;
            }

            .nav-links {
                display: flex;
                gap: 15px;
                flex-wrap: wrap;
            }

            @media (max-width: 480px) {
                .header-inner {
                    flex-direction: column;
                    align-items: flex-start;
                }

                .nav-links {
                    width: 100%;
                    justify-content: flex-start;
                    gap: 12px;
                }

                .logo {
                    font-size: 1.3em;
                }
            }

            .nav-links a {
                color: rgba(255, 255, 255, 0.8);
                text-decoration: none;
                transition: color 0.2s;
            }

            .nav-links a:hover,
            .nav-links a.active {
                color: white;
            }

            /* Page navigation tabs */
            .page-tabs {
                background: white;
                border-bottom: 1px solid #e5e7eb;
                margin-bottom: 30px;
            }

            .page-tabs-inner {
                max-width: 900px;
                margin: 0 auto;
                padding: 0 20px;
                display: flex;
                flex-wrap: wrap;
                gap: 0;
            }

            .page-tab {
                padding: 15px 16px;
                border: none;
                background: none;
                cursor: pointer;
                font-size: 0.95em;
                color: #666;
                border-bottom: 3px solid transparent;
                transition:
                    color 0.15s,
                    border-color 0.15s,
                    background-color 0.15s;
                white-space: nowrap;
            }

            @media (max-width: 640px) {
                .page-tab {
                    padding: 10px 12px;
                    font-size: 0.85em;
                }
            }

            .page-tab:hover {
                color: #333;
                background: #f9fafb;
            }

            .page-tab.active {
                color: #3b82f6;
                border-bottom-color: #3b82f6;
            }

            /* Page content */
            .page {
                display: none;
            }

            .page.active {
                display: block;
            }

            .content-section {
                background: white;
                padding: 40px;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                margin-bottom: 30px;
            }

            @media (max-width: 480px) {
                .container {
                    padding: 15px;
                }

                .content-section {
                    padding: 20px;
                }

                h2 {
                    font-size: 1.4em;
                }
            }

            h2 {
                font-size: 1.8em;
                margin-bottom: 15px;
                color: #1a1a1a;
            }

            h3 {
                font-size: 1.3em;
                margin-bottom: 10px;
                color: #1a1a1a;
            }

            p {
                margin-bottom: 15px;
            }

            .info-box {
                background: #eff6ff;
                border: 1px solid #3b82f6;
                border-radius: 6px;
                padding: 20px;
                margin-bottom: 30px;
            }

            .info-box h3 {
                color: #1e40af;
                margin-bottom: 10px;
            }

            .info-box p {
                color: #1e40af;
                margin-bottom: 8px;
            }

            .info-box p:last-child {
                margin-bottom: 0;
            }

            .info-box code {
                background: #dbeafe;
                padding: 2px 6px;
                border-radius: 3px;
                font-family: "Courier New", monospace;
                word-break: break-word;
            }

            .info-box ul {
                color: #1e40af;
                margin: 10px 0;
                padding-left: 20px;
            }

            .info-box li {
                margin-bottom: 4px;
            }

            @media (max-width: 480px) {
                .info-box {
                    padding: 15px;
                }

                .info-box code {
                    font-size: 0.85em;
                }
            }

            /* Demo sections */
            .demo-area {
                background: #f9fafb;
                border: 2px dashed #e5e7eb;
                border-radius: 8px;
                padding: 30px;
                margin-top: 20px;
            }

            .demo-area h3 {
                color: #6b7280;
                font-size: 0.9em;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin-bottom: 15px;
            }

            .demo-area ul,
            .demo-area ol {
                padding-left: 1.5em;
                margin: 0.5em 0;
            }

            .demo-area li {
                margin: 0.25em 0;
            }

            /* Team grid for templates demo */
            .team-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
                gap: 25px;
                margin-top: 20px;
            }

            .team-member {
                text-align: center;
                padding: 20px;
                background: white;
                border-radius: 8px;
                border: 1px solid #e5e7eb;
            }

            .team-member img {
                width: 120px;
                height: 120px;
                border-radius: 50%;
                margin-bottom: 15px;
                object-fit: cover;
            }

            .team-member h4 {
                margin-bottom: 5px;
            }

            .team-member .role {
                color: #666;
                font-size: 0.9em;
            }

            /* Link demo styles */
            .link-demo {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .link-demo a {
                color: #3b82f6;
                text-decoration: none;
                padding: 10px 15px;
                background: white;
                border-radius: 6px;
                border: 1px solid #e5e7eb;
                transition:
                    background-color 0.2s,
                    border-color 0.2s;
            }

            .link-demo a:hover {
                background: #eff6ff;
                border-color: #3b82f6;
            }

            /* Image demo */
            .image-demo {
                text-align: center;
            }

            .image-demo img {
                max-width: 100%;
                border-radius: 8px;
                margin-top: 15px;
            }

            /* Footer styles */
            footer {
                background: #1a1a2e;
                color: rgba(255, 255, 255, 0.8);
                padding: 40px 20px 20px;
                margin-top: auto;
            }

            .footer-inner {
                max-width: 900px;
                margin: 0 auto;
            }

            .footer-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
                gap: 30px;
                margin-bottom: 30px;
            }

            .footer-section h4 {
                color: white;
                margin-bottom: 15px;
                font-size: 1.1em;
            }

            .footer-section p {
                margin-bottom: 10px;
                font-size: 0.95em;
            }

            .footer-bottom {
                border-top: 1px solid rgba(255, 255, 255, 0.1);
                padding-top: 20px;
                text-align: center;
                font-size: 0.9em;
            }

            .footer-bottom a {
                color: rgba(255, 255, 255, 0.8);
                text-decoration: none;
            }

            .footer-bottom a:hover {
                color: white;
                text-decoration: underline;
            }

            /* Attributes demo */
            .attributes-demo {
                display: grid;
                gap: 20px;
            }

            .attribute-example {
                background: white;
                padding: 20px;
                border-radius: 6px;
                border: 1px solid #e5e7eb;
            }

            .attribute-example h4 {
                color: #3b82f6;
                margin-bottom: 10px;
                font-size: 1em;
            }

            .attribute-example p {
                margin-bottom: 10px;
                color: #666;
                font-size: 0.9em;
            }

            .attribute-example img {
                max-width: 200px;
                border-radius: 4px;
            }

            /* Screen reader only - for accessibility demo */
            .sr-only {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border: 0;
            }

            /* Product grid for groups demo */
            .product-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(min(180px, 100%), 1fr));
                gap: 20px;
                margin-top: 20px;
            }

            .product-card {
                background: white;
                border-radius: 8px;
                border: 1px solid #e5e7eb;
                overflow: hidden;
                text-align: center;
            }

            .product-card img {
                width: 100%;
                height: 150px;
                object-fit: cover;
            }

            .product-card h4 {
                padding: 15px 15px 5px;
                font-size: 1em;
            }

            .product-card .product-price {
                padding: 0 15px 15px;
                color: #059669;
                font-weight: 600;
                margin: 0;
            }

            .promo-banner {
                background: #dc2626;
                color: white;
                padding: 8px 12px;
                font-size: 0.85em;
                font-weight: 500;
            }
        </style>
    </head>
    <body>
        <!-- Shared Header - uses data-scms-group="header" -->
        <header data-scms-group="header">
            <div class="header-inner">
                <div class="logo" data-scms-text="logo">StreamlinedCMS</div>
                <nav class="nav-links">
                    <a href="https://example.com/docs" data-scms-link="nav-link-1">Docs</a>
                    <a href="https://example.com/pricing" data-scms-link="nav-link-2">Pricing</a>
                    <a href="https://example.com/support" data-scms-link="nav-link-3">Support</a>
                </nav>
            </div>
        </header>

        <!-- Feature tabs -->
        <div class="page-tabs">
            <div class="page-tabs-inner">
                <button class="page-tab active" data-page="text">Text</button>
                <button class="page-tab" data-page="images">Images</button>
                <button class="page-tab" data-page="links">Links</button>
                <button class="page-tab" data-page="html">HTML</button>
                <button class="page-tab" data-page="groups">Groups</button>
                <button class="page-tab" data-page="templates">Templates</button>
                <button class="page-tab" data-page="attributes">Attributes</button>
            </div>
        </div>

        <div class="container">
            <!-- TEXT PAGE -->
            <div class="page active" id="page-text">
                <div class="info-box">
                    <h3>Text Editing</h3>
                    <p>
                        Use <code>data-scms-text="element-id"</code> for simple text content. Click
                        any text element to edit it inline. Perfect for headings, paragraphs, and
                        labels.
                    </p>
                    <p>
                        <a href="#" data-scms-signin>Sign in</a> to enable editing mode, then click
                        any outlined element below.
                    </p>
                </div>

                <div class="content-section">
                    <div class="demo-area">
                        <h3>Editable Text Examples</h3>
                        <h2 data-scms-text="text-demo-heading">This Heading is Editable</h2>
                        <p data-scms-text="text-demo-paragraph">
                            This paragraph can be edited by clicking on it. The text you enter will
                            be saved and displayed to all visitors. Try changing this text to see
                            how simple inline editing works.
                        </p>
                        <p data-scms-text="text-demo-paragraph-2">
                            Here's another paragraph you can edit. Each element has a unique ID so
                            changes are tracked independently.
                        </p>

                        <h3>Repeating List Items</h3>
                        <p>This ordered list uses a template so items can be added/removed:</p>
                        <ol data-scms-template="checklist">
                            <li data-scms-text="item">First item</li>
                            <li data-scms-text="item">Second item</li>
                            <li data-scms-text="item">Third item</li>
                        </ol>
                    </div>
                </div>
            </div>

            <!-- HTML PAGE -->
            <div class="page" id="page-html">
                <div class="info-box">
                    <h3>HTML Editing</h3>
                    <p>
                        Use <code>data-scms-html="element-id"</code> for rich HTML content. When
                        selected, use the "Edit HTML" button in the toolbar to open a code editor.
                    </p>
                    <p>
                        This is useful for content that needs formatting like bold, italic, lists,
                        or embedded elements.
                    </p>
                </div>

                <div class="content-section">
                    <div class="demo-area">
                        <h3>Editable HTML Example</h3>
                        <div data-scms-html="html-demo-content">
                            <p>
                                This content supports <strong>bold</strong>, <em>italic</em>, and
                                other HTML formatting.
                            </p>
                            <ul>
                                <li>List item one</li>
                                <li>List item two</li>
                                <li>List item three</li>
                            </ul>
                            <p>
                                Select this element and click <strong>Edit HTML</strong> in the
                                toolbar to modify the source.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- IMAGES PAGE -->
            <div class="page" id="page-images">
                <div class="info-box">
                    <h3>Image Editing</h3>
                    <p>
                        Use <code>data-scms-image="element-id"</code> on
                        <code>&lt;img&gt;</code> tags. Click to select, then use "Change Image" or
                        double-click to open the media manager.
                    </p>
                    <p>Images are uploaded to cloud storage and served via CDN for fast loading.</p>
                </div>

                <div class="content-section">
                    <div class="demo-area image-demo">
                        <h3>Editable Image</h3>
                        <p>Click the image below to select it, then change it via the toolbar.</p>
                        <img
                            data-scms-image="image-demo-hero"
                            src="https://placehold.co/600x300/3b82f6/white?text=Click+to+Change"
                            alt="Demo hero image"
                        />
                    </div>
                </div>

                <div class="content-section">
                    <div class="demo-area image-demo">
                        <h3>Another Editable Image</h3>
                        <img
                            data-scms-image="image-demo-secondary"
                            src="https://placehold.co/400x200/10b981/white?text=Secondary+Image"
                            alt="Demo secondary image"
                        />
                    </div>
                </div>
            </div>

            <!-- LINKS PAGE -->
            <div class="page" id="page-links">
                <div class="info-box">
                    <h3>Link Editing</h3>
                    <p>
                        Use <code>data-scms-link="element-id"</code> on <code>&lt;a&gt;</code> tags.
                        Click to select, then use "Edit Link" to change the URL, text, and target.
                    </p>
                    <p>Double-click a link to navigate to it (useful for testing).</p>
                </div>

                <div class="content-section">
                    <div class="demo-area">
                        <h3>Editable Links</h3>
                        <div class="link-demo">
                            <a
                                href="https://example.com/getting-started"
                                data-scms-link="link-demo-1"
                            >
                                Getting Started Guide
                            </a>
                            <a href="https://example.com/api-docs" data-scms-link="link-demo-2">
                                API Documentation
                            </a>
                            <a
                                href="https://example.com/tutorials"
                                data-scms-link="link-demo-3"
                                target="_blank"
                            >
                                Video Tutorials (opens in new tab)
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GROUPS PAGE -->
            <div class="page" id="page-groups">
                <div class="info-box">
                    <h3>Content Groups</h3>
                    <p>
                        Use <code>data-scms-group="group-id"</code> on a container to group related
                        content. Elements in a group share their content across all pages that use
                        the same group.
                    </p>
                    <p>Perfect for headers, footers, and sidebars that appear on multiple pages.</p>
                    <ul>
                        <li>
                            The <strong>header</strong> above uses
                            <code>data-scms-group="header"</code>
                        </li>
                        <li>
                            The <strong>footer</strong> below uses
                            <code>data-scms-group="footer"</code>
                        </li>
                        <li>Edit them on any page and changes appear everywhere</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h2>How Groups Work</h2>
                    <p>
                        Without groups, each page would have its own copy of the header and footer
                        content. With groups, they share a single source of truth.
                    </p>
                    <p>
                        Try editing the logo or navigation links in the header - the changes will
                        persist as you switch between tabs because the header is grouped.
                    </p>

                    <div class="demo-area">
                        <h3>Page-Specific Content (Not Grouped)</h3>
                        <p data-scms-text="groups-page-content">
                            This paragraph is NOT in a group. It only exists on this page. Each page
                            can have its own unique content alongside shared group content.
                        </p>
                    </div>
                </div>

                <div class="content-section">
                    <h2>Groups Inside Templates</h2>
                    <p>
                        Groups can also be used inside repeating templates. When you edit a grouped
                        element in one template instance, it updates in all instances automatically.
                    </p>
                    <p>
                        The product cards below each have a promotional banner that uses
                        <code>data-scms-group="promo-banner"</code>. Edit the banner text on any
                        card and watch it update on all of them.
                    </p>

                    <!-- Standalone promo banner (outside template) for testing sync -->
                    <div
                        class="promo-banner"
                        data-scms-group="promo-banner"
                        style="margin-bottom: 1rem"
                    >
                        <span data-scms-text="promo-text">Free Shipping on Orders $50+</span>
                    </div>

                    <div class="product-grid" data-scms-template="product-card">
                        <div class="product-card">
                            <div class="promo-banner" data-scms-group="promo-banner">
                                <span data-scms-text="promo-text"
                                    >Free Shipping on Orders $50+</span
                                >
                            </div>
                            <img
                                data-scms-image="product-image"
                                src="https://placehold.co/200x150/3b82f6/white?text=Product"
                                alt="Product image"
                            />
                            <h4 data-scms-text="product-name">Wireless Headphones</h4>
                            <p class="product-price" data-scms-text="product-price">$79.99</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TEMPLATES PAGE -->
            <div class="page" id="page-templates">
                <div class="info-box">
                    <h3>Repeating Templates</h3>
                    <p>
                        Use <code>data-scms-template="template-id"</code> on a container to make its
                        first child a repeatable template. Authors can add and remove instances.
                    </p>
                    <p>
                        All children in the container are recognized as instances. The first child
                        defines the template structure. If other children have different structures,
                        they'll show an orange warning indicator in edit mode.
                    </p>
                    <p>
                        Perfect for team members, testimonials, product cards, FAQ items, and more.
                    </p>
                </div>

                <div class="content-section">
                    <h2 data-scms-text="team-heading">Our Team</h2>
                    <p data-scms-text="team-intro">
                        Meet the people behind the product. The third team member has a "bio" field
                        that doesn't exist in the template - notice the orange warning indicator.
                    </p>

                    <div class="team-grid" data-scms-template="team-member">
                        <div class="team-member">
                            <img
                                data-scms-image="photo"
                                src="https://placehold.co/120x120/6366f1/white?text=AJ"
                                alt="Team member photo"
                            />
                            <h4 data-scms-text="name">Alex Johnson</h4>
                            <p class="role" data-scms-text="role">Founder & CEO</p>
                        </div>
                        <div class="team-member">
                            <img
                                data-scms-image="photo"
                                src="https://placehold.co/120x120/10b981/white?text=SK"
                                alt="Team member photo"
                            />
                            <h4 data-scms-text="name">Sarah Kim</h4>
                            <p class="role" data-scms-text="role">Lead Designer</p>
                        </div>
                        <!-- This instance has mismatched structure (extra bio field) -->
                        <div class="team-member">
                            <img
                                data-scms-image="photo"
                                src="https://placehold.co/120x120/f59e0b/white?text=MR"
                                alt="Team member photo"
                            />
                            <h4 data-scms-text="name">Mike Rodriguez</h4>
                            <p class="role" data-scms-text="role">Senior Developer</p>
                            <p class="bio" data-scms-text="bio">
                                Full-stack engineer with 10 years experience.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ATTRIBUTES PAGE -->
            <div class="page" id="page-attributes">
                <div class="info-box">
                    <h3>Element Attributes</h3>
                    <p>
                        Beyond content, you can edit SEO, accessibility, and custom attributes on
                        any element. Select an element and use the toolbar's "More" menu to access:
                    </p>
                    <ul>
                        <li><strong>SEO:</strong> alt text, title, rel attributes</li>
                        <li>
                            <strong>Accessibility:</strong> aria-label, aria-describedby, role,
                            tabindex
                        </li>
                        <li><strong>Custom:</strong> data-* attributes, classes, and more</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h2>Attribute Editing Examples</h2>

                    <div class="attributes-demo">
                        <div class="attribute-example">
                            <h4>Image with SEO Attributes</h4>
                            <p>
                                Select this image and open SEO settings to edit alt text and title.
                            </p>
                            <img
                                data-scms-image="attr-demo-image"
                                src="https://placehold.co/200x150/f59e0b/white?text=Product"
                                alt="Product screenshot"
                                title="Our flagship product"
                            />
                        </div>

                        <div class="attribute-example">
                            <h4>Link with Accessibility</h4>
                            <p>
                                Select this link and open accessibility settings to edit aria-label.
                            </p>
                            <a
                                href="https://example.com/help"
                                data-scms-link="attr-demo-link"
                                aria-label="Get help and support"
                                aria-describedby="help-description"
                            >
                                Need help?
                            </a>
                            <span id="help-description" class="sr-only"
                                >Opens our help center with FAQs and contact options</span
                            >
                        </div>

                        <div class="attribute-example">
                            <h4>Text with Custom Attributes</h4>
                            <p>
                                Select this text and open custom attributes to add data-*
                                attributes.
                            </p>
                            <p data-scms-text="attr-demo-text">
                                This text element can have custom attributes added for analytics,
                                A/B testing, or integration with other tools.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shared Footer - uses data-scms-group="footer" -->
        <footer data-scms-group="footer">
            <div class="footer-inner">
                <div class="footer-grid">
                    <div class="footer-section">
                        <h4 data-scms-text="footer-col1-title">StreamlinedCMS</h4>
                        <p data-scms-text="footer-col1-text">
                            Edit your website content inline, right where you see it. No complex
                            dashboards required.
                        </p>
                    </div>
                    <div class="footer-section">
                        <h4 data-scms-text="footer-col2-title">Resources</h4>
                        <p data-scms-text="footer-col2-link1">Documentation</p>
                        <p data-scms-text="footer-col2-link2">API Reference</p>
                        <p data-scms-text="footer-col2-link3">Support</p>
                    </div>
                    <div class="footer-section">
                        <h4 data-scms-text="footer-col3-title">Contact</h4>
                        <p data-scms-text="footer-col3-email">hello@streamlinedcms.com</p>
                        <p data-scms-text="footer-col3-phone">+1 (555) 123-4567</p>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>
                        <span data-scms-html="copyright">&copy; 2025 StreamlinedCMS</span>
                        &nbsp;|&nbsp;
                        <a href="#" data-scms-signin>Sign In</a>
                    </p>
                </div>
            </div>
        </footer>

        <!-- Tab switching with URL hash support -->
        <script>
            (function () {
                const tabs = document.querySelectorAll(".page-tab");
                const pages = document.querySelectorAll(".page");
                let currentPage = null;

                function showPage(pageId, updateHash) {
                    // Prevent redundant updates
                    if (pageId === currentPage) return;
                    currentPage = pageId;

                    // Update tabs
                    tabs.forEach((tab) => {
                        tab.classList.toggle("active", tab.getAttribute("data-page") === pageId);
                    });

                    // Update pages
                    pages.forEach((page) => {
                        page.classList.toggle("active", page.id === "page-" + pageId);
                    });

                    // Update URL hash if requested
                    if (updateHash) {
                        history.replaceState(null, "", "#" + pageId);
                    }
                }

                function getPageFromHash() {
                    const hash = window.location.hash.slice(1);
                    // Validate that this is a real page
                    const validPages = Array.from(tabs).map((t) => t.getAttribute("data-page"));
                    return validPages.includes(hash) ? hash : "text";
                }

                // Handle tab clicks
                tabs.forEach((tab) => {
                    tab.addEventListener("click", () => {
                        const pageId = tab.getAttribute("data-page");
                        showPage(pageId, true);
                    });
                });

                // Handle browser back/forward
                window.addEventListener("hashchange", () => {
                    showPage(getPageFromHash(), false);
                });

                // Set initial page from URL hash
                const initialPage = getPageFromHash();
                showPage(initialPage, window.location.hash === "");
            })();
        </script>

        <!-- Mobile debugging console (eruda) - loaded async so it doesn't block SDK -->
        <script>
            (function () {
                var script = document.createElement("script");
                script.src = "https://cdn.jsdelivr.net/npm/eruda";
                script.onload = function () {
                    eruda.init();
                };
                document.body.appendChild(script);
            })();
        </script>

        <!-- Demo auto-signin logic -->
        <script>
            (function () {
                var DEMO_EMAIL = "demo@streamlinedcms.com";
                var DEMO_PASSWORD = "demo1234";
                var FLAG_KEY = "scms_demo_has_signed_in";

                // Wait for SDK to be available on window
                document.addEventListener("streamlined-cms:ready", async function () {
                    // Set flag whenever user signs in (via popup or programmatic)
                    StreamlinedCMS.on("signin", function () {
                        localStorage.setItem(FLAG_KEY, "true");
                    });

                    // Clear flag on signout
                    StreamlinedCMS.on("signout", function () {
                        localStorage.removeItem(FLAG_KEY);
                    });

                    // Wait for auth to be determined
                    await StreamlinedCMS.ready("auth");

                    // If not authenticated, check if we should auto sign-in
                    if (!StreamlinedCMS.isAuthenticated) {
                        var hasSignedInBefore = localStorage.getItem(FLAG_KEY) === "true";
                        if (hasSignedInBefore) {
                            console.log("[Demo] Auto signing in...");
                            var result = await StreamlinedCMS.signIn(DEMO_EMAIL, DEMO_PASSWORD);
                            if (result.success) {
                                console.log("[Demo] Auto sign-in successful");
                            } else {
                                console.warn("[Demo] Auto sign-in failed:", result.error);
                            }
                        }
                    }
                });
            })();
        </script>
    </body>
</html>
